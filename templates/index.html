{% extends "base.html" %}

{% block title %}Home - Python's GPUs{% endblock %}

{% block content %}
    <!-- Hero Section -->
    <section class="hero">
        <div class="container">
            <div class="hero-icon">
                <i class="fas fa-server"></i>
            </div>
            <h1>GPU Compute Services</h1>
            <p class="hero-subtitle">
                Rent GPU power for Blender rendering, machine learning, and compute tasks.
                Simple pricing, no setup required.
            </p>
            
            <div class="service-tags" style="justify-content: center; margin-bottom: 2rem;">
                <span class="tag dev-tag">Under Development</span>
                <span class="tag work-tag">Active Development</span>
            </div>
            
            <div class="hero-cta">
                <a href="/blender-order" class="btn btn-primary">
                    <i class="fas fa-play-circle"></i> Start Rendering
                </a>
                <a href="#services" class="btn btn-secondary">
                    <i class="fas fa-list"></i> View Services
                </a>
            </div>
        </div>
    </section>

    <!-- Stats -->
    <section class="stats">
        <div class="container">
            <div class="stats-grid">
                <div class="stat-card">
                    <div class="stat-number">5+</div>
                    <div class="stat-label">Projects Completed</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number">{{ prices.blender_per_frame }}</div>
                    <div class="stat-label">Per Frame</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number">{{ prices.hash_per_minute }}</div>
                    <div class="stat-label">Per Minute (Hash)</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number">24/7</div>
                    <div class="stat-label">Queue Monitoring</div>
                </div>
            </div>
        </div>
    </section>

    <!-- Services -->
    <section class="services" id="services">
        <div class="container">
            <h2 class="section-title">Available Services</h2>
            <div class="services-grid">
                <!-- Blender -->
                <div class="service-card">
                    <div class="service-tags">
                        <span class="tag dev-tag">Under Dev</span>
                        <span class="tag work-tag">Priority</span>
                    </div>
                    <div class="service-icon">
                        <i class="fas fa-cube"></i>
                    </div>
                    <h3>Blender Rendering</h3>
                    <p class="service-description">
                        GPU-accelerated 3D rendering with Blender Cycles engine.
                    </p>
                    <div class="service-price">{{ prices.blender_per_frame }} / frame</div>
                    <ul class="service-features">
                        <li>Blender 3.0+ support</li>
                        <li>Complex scene handling</li>
                        <li>Fast frame delivery</li>
                        <li>Priority queue available</li>
                    </ul>
                    <a href="/blender-order" class="btn btn-primary btn-full">
                        <i class="fas fa-shopping-cart"></i> Order Render
                    </a>
                </div>

                <!-- TensorFlow -->
                <div class="service-card">
                    <div class="service-tags">
                        <span class="tag dev-tag">Under Dev</span>
                    </div>
                    <div class="service-icon">
                        <i class="fas fa-brain"></i>
                    </div>
                    <h3>TensorFlow Compute</h3>
                    <p class="service-description">
                        GPU-accelerated machine learning with TensorFlow.
                    </p>
                    <div class="service-price">From {{ prices.tensorflow_base }} / min</div>
                    <ul class="service-features">
                        <li>TensorFlow 2.x support</li>
                        <li>Custom environments</li>
                        <li>Model training & inference</li>
                        <li>Real-time monitoring</li>
                    </ul>
                    <button class="btn btn-secondary btn-full" onclick="alert('Coming Soon!')">
                        <i class="fas fa-clock"></i> Coming Soon
                    </button>
                </div>

                <!-- Hash Cracking -->
                <div class="service-card">
                    <div class="service-tags">
                        <span class="tag dev-tag">Under Dev</span>
                    </div>
                    <div class="service-icon">
                        <i class="fas fa-lock"></i>
                    </div>
                    <h3>Hash Cracking</h3>
                    <p class="service-description">
                        GPU-accelerated hash cracking for security testing.
                    </p>
                    <div class="service-price">{{ prices.hash_per_minute }} / minute</div>
                    <ul class="service-features">
                        <li>Multiple hash types</li>
                        <li>Custom wordlists</li>
                        <li>High-speed cracking</li>
                        <li>Secure processing</li>
                    </ul>
                    <button class="btn btn-secondary btn-full" onclick="alert('Coming Soon!')">
                        <i class="fas fa-clock"></i> Coming Soon
                    </button>
                </div>
            </div>
        </div>
    </section>

    <!-- How It Works -->
    <section class="how-it-works">
        <div class="container">
            <h2 class="section-title">How It Works</h2>
            <div class="steps">
                <div class="step">
                    <div class="step-number">1</div>
                    <h3>Submit Your Project</h3>
                    <p>Upload your Blender file or provide project details through our order form.</p>
                </div>
                <div class="step">
                    <div class="step-number">2</div>
                    <h3>We Process It</h3>
                    <p>Our GPU servers process your task with real-time progress updates.</p>
                </div>
                <div class="step">
                    <div class="step-number">3</div>
                    <h3>Receive Results</h3>
                    <p>Download your rendered frames or processed results immediately.</p>
                </div>
            </div>
        </div>
    </section>

    <!-- The Rock -->
    <section class="rock-section">
        <div class="container rock-container">
            <div class="rock-face">ðŸ—¿</div>
            <div class="rock-speech">
                <strong>Server Stone Status:</strong><br>
                IP: <span id="user-ip">Loading...</span><br>
                Ping: <span id="server-ping">--</span>ms<br>
                Users: <span id="online-users">{{ user_count }}</span> online
            </div>
            <p class="rock-caption">The Ancient Server Stone watches over your compute tasks...</p>
        </div>
    </section>
{% endblock %}

{% block scripts %}
<script>
// Update rock info
async function updateRockInfo() {
    try {
        const response = await fetch('/api/status');
        const data = await response.json();
        
        document.getElementById('online-count').textContent = data.user_count;
        document.getElementById('online-users').textContent = data.user_count;
        document.getElementById('server-ping').textContent = data.server_ping;
        
        // Generate fake IP for demo
        const ipElement = document.getElementById('user-ip');
        if (ipElement.textContent === 'Loading...') {
            ipElement.textContent = `192.168.${Math.floor(Math.random() * 255)}.${Math.floor(Math.random() * 255)}`;
        }
    } catch (error) {
        console.log('Failed to update status:', error);
    }
}

// Update rock info every 10 seconds
setInterval(updateRockInfo, 10000);
updateRockInfo();

// Update server status
document.getElementById('server-status').textContent = 'ðŸŸ¢ Online';
</script>
{% endblock %}
